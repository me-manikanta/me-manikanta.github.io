{"pageProps":{"frontMatter":{"title":"Let's discuss commit messages","date":"July 10, 2022"},"slug":"commit-messages","content":"\nWe all know what a commit message is, and probably write at least 1 commit message every day. But how confident we are that we'll understand the changes we made in a commit by reading only the message after some time?\n\nThere are multiple reasons why we don't write proper commit messages:\n\n- No proper structure is defined in the team/project\n- Laziness\n\nThere can be a wide variety of other reasons as well.\n\nBut wait!\n\n## Why should we write better commit messages?\n\nIf we browse through the `git log` of any of our repositories, there is a high chance that it looks something like this,\n\n```text\nfixed NPE in test case\nCSS fixes\nadded a button to send mail\nupdates versions in package.json\n```\n\nHmm, so what is the fix in the latest commit? Yeah, even I can't tell until I look at the changes in the commit. Perhaps you have encountered code in a professional environment where you had no idea what it was doing or meant for.\n\nSimilar to having maintainable code and good documentation, having a good commit log is suggested to save yourself and/or co-workers hours of digging around in the repository.\n\n## Anatomy of a commit message\n\nMost of us write only one line of commit message explaining what the changes are by running the following command.\n\n```sh\ngit commit -m \"<Message>\"\n```\n\nBut did you know that multi-line commits are possible?\n\n```sh\ngit commit -m \"<Message1>\" -m \"<Message2>\"\n```\n\nActually, for each `-m` param to the `git commit` command it adds a new line to the commit message.\n\nThis feature opens a whole new world for us to write commits, as we now know that we aren't blocked by writing about our changes in 1 line, we can have a summary in one line have a detailed explanation in the subsequent lines. The structure of the commitment will come as\n\n```sh\ngit commit -m \"<Title>\" -m \"<Message>\" -m \"<Footer>\"\n```\n\n> Pro Tip: Prefer using a text editor when writing commit messages instead of command-line :D\n\n## Let's talk about better commit messages\n\nAs we now have defined a basic structure of the commit message, let's add some rules along with the structure to have consistency across all of our commits.\n\n> These rules work for me, but might not work for you. My goal here is to give you some inspiration so that you can come up with your structure.\n\n#### Type of Commit\n\nWait what!!! There are types of commits?\n\nTechnically there are no types, but logically we can have any number of types based on our needs.\nFollowing are a few of the widely accepted types of commits:\n\n- `feat`Â â€“ Added a new feature\n- `fix`Â â€“ Fixed a bug\n- `chore`Â â€“ Changes that do not relate to a fix or feature and don't modify src or test files (for example updating dependencies)\n- `refactor`Â â€“ refactored code that neither fixes a bug nor adds a feature\n- `docs`Â â€“ Updates to docs in the repository\n- `style`Â â€“ Format code\n- `test`Â â€“ Adding/fixing test cases\n- `perf`Â â€“ Performance improvements\n- `ci`Â â€“ Continuous Integration related\n- `build`Â â€“ Changes that affect the build system or external dependencies\n- `revert`Â â€“ Reverts a previous commit\n\nTo specify the type of the commit I use emojis like âœ¨, and ğŸ› for the feat, and bug respectively... more emojis for different types of commits can be found [here](http://gitmoji.dev). Specifying the type as text would also work, but I've transitioned to this way of writing commits for 2 reasons:\n\n1. Git log looks cool ğŸ˜\n2. I save some characters in the subject line\n\n#### Scope of Commit\n\nThe scope is a noun that describes what section of the codebase is affected by this change/commit.\n\nExample:\n\n- feat(API) or âœ¨(API)\n- fix(orders) or ğŸ›(orders)\n- docs(workflow) or ğŸ“(workflow)\n\n#### Subject\n\nSummary of the changes in the commit.\n\nSome key points to consider while writing the subject:\n\n- Have a hard limit of 50 characters\n- There is no need to add punctuation, be mindful of the hard limit we've set ;)\n- Use the imperative mood\n\n#### Body\n\nThis is an optional section where we can provide a detailed explanation of what the change is, and why we've made the change.\n\n- Separate the subject from the body with a blank line\n- Try having a hard limit in each line of the body(I prefer to have around 70 to 75)\n\n#### Footer\n\nThis section can be used as a meta section of the commit. Here we can specify things like the ticket or issue number that the change corresponds to. reviewer of the commit etc..,\n\nMost of this information is inspired from [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/#specification) and they explain all the specs for writing a good commit in much detail. Do note that there is no one correct way of writing commits but having a team agreement can help maintain the repository easier.\n\n## Tools\n\nIf you've liked the concept of writing conventional commits and want to force them into your workflow, there are a lot of tools available to help you to do so.\n\n- If you prefer using the command line for writing commits, [Commitizen](https://commitizen-tools.github.io/commitizen/) would be a good choice for you, when you are about to commit your changes it asks a series of questions and forces you to write descriptive commits.\n- If you prefer using IDEs like IntelliJ or VS Code there are plugins available. I've used [this](https://plugins.jetbrains.com/plugin/13389-conventional-commit) plugin in IntelliJ and it worked for me, however, I haven't tried any in VSCode.\n\n## References\n\n- [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/#specification)\n- [Gitmoji](https://gitmoji.dev) - An emoji guide for your commit messages\n- [Commitizen](https://commitizen-tools.github.io/commitizen/) - Command line tool for writing conventional commits\n- [Conventional Commit Plugin](https://plugins.jetbrains.com/plugin/13389-conventional-commit) - An IntelliJ plugin for writing conventional commits\n"},"__N_SSG":true}