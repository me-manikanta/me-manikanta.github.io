<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="icon" href="/favicon.png" type="image/png"/><link rel="shortcut icon" href="/favicon.png" type="image/png"/><link rel="apple-touch-icon" href="/favicon.png"/><meta name="msapplication-TileImage" content="/favicon.png"/><meta name="theme-color" content="#111827"/><link rel="preload" href="/_next/static/css/b9f435f50d63d371.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b9f435f50d63d371.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-76b21f37457ee45a.js" defer=""></script><script src="/_next/static/chunks/framework-0cbe3b56a5f66701.js" defer=""></script><script src="/_next/static/chunks/main-c73af4cdc0881592.js" defer=""></script><script src="/_next/static/chunks/pages/_app-945d9a3c4d7b3495.js" defer=""></script><script src="/_next/static/chunks/98f17255-6b424923284c637f.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-cea1c5f9b0993b22.js" defer=""></script><script src="/_next/static/Gyp_NaHqKR5ka9XMP-TPk/_buildManifest.js" defer=""></script><script src="/_next/static/Gyp_NaHqKR5ka9XMP-TPk/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="dark"><div class="min-h-screen bg-gray-900"><div class="max-w-6xl mx-auto px-8 py-8"><div class="flex flex-col md:flex-row md:gap-16"><main id="skip" class="flex-1 max-w-4xl"><div class="w-full prose dark:prose-dark mx-auto"><h1 class="text-center mb-1">Logging best practices that I follow</h1><hr class="mt-4"/><article><p>At the beginning of my coding career, I mostly wrote logs¬†(print statements üòú) when debugging an issue and removed them (unsaid rule) after the bug was fixed. But when I became a backend developer, I realised the importance of logging. In this blog, I am listing down all the things that I&#x27;ve learned in the past few years and the rules I follow when writing log statements.</p><h2>What exactly is logging?</h2><p>In laymen&#x27;s terms, we all know what logging is; it&#x27;s printing messages, variables and exceptions to the console or a file. It is partially correct. However, what I feel is logging is a mechanism to record the state of the application and the actions it has taken at a given point in time.</p><p>If we think about it, both definitions are completely different. One suggests that we are indicating where we are in the codebase, and the second indicates the current state of request flow. This change in the thought process when developing an application helps us to write better logging statements and, in turn, helps us to improve the application.</p><h2>Different levels of Logs</h2><p>The level of logging may vary based on the team you&#x27;re in, the application you&#x27;re working on, and, most likely, the framework/language you&#x27;re using. The most widely used logging levels are <code>DEBUG</code>, <code>INFO</code>, <code>WARN</code> and <code>ERROR</code>.</p><h3>DEBUG üë®üèª‚Äçüíª</h3><p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1649343223530/meiZpkf88.gif" alt="debugging.gif"/></p><p>As the name suggests, these logs contain information that is most interesting for developers when trying to debug a problem. They are fine-grained statements concerning the state of the application.</p><p>In our production system, we have a huge number of <code>DEBUG</code> logs, and we tend to disable this level mostly. We enable this only when the need arises.</p><h3>INFO ‚ÑπÔ∏è</h3><p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1649343014674/dCycagJ2a.gif" alt="info-level.gif"/> <!-- -->Logs at this level are purely informational messages, as the name suggests and¬†they should not be used to indicate a fault or error state in the application. To make the best use of this log level, consider what general information would be useful for diagnosing an application error when the primary interface is unavailable.</p><h3>WARN ‚ö†Ô∏è</h3><p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1649342969562/Gn4KrBiLs.gif" alt="darth-vader-this-is-your-last-warning.gif"/></p><p>Warning logs should be used when something happens that could potentially cause some oddities in the application. These logs give us some heads-up, indicating something that might need our attention.</p><h3>ERROR üö®</h3><p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1649342866161/BKZSWVpCu.gif" alt="error.gif"/></p><p>Logs at this level contain failures in the application. Use error logs when something that could&#x27;ve gone wrong has gone wrong and action needs to be taken by someone to resolve the issue. In the event there is no action needed, we can use the <code>WARN</code> level instead.</p><h2>How much should we log?</h2><h3>Have fewer logs üîá</h3><p>There is no harm in actually having very few logs in our system, but this will make figuring out why something happened the way it happened a bit difficult.</p><h3>Log everything üîä</h3><p>If logging is this good, why can&#x27;t we write a log statement after every line of our code?</p><p>Is it too much?</p><p>How much logging is too much logging?</p><p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1649343245360/yLswYQvicp.gif" alt="talk-spongebob.gif"/></p><p>These types of questions were asked in a lot of forums, including StackOverflow, which led to <a href="https://blog.codinghorror.com/the-problem-with-logging/">this blog</a> by <a href="https://blog.codinghorror.com">Coding Horror</a></p><p>A few takeaways, according to me, are as follows:</p><p>-¬†The more logs you add, the larger the codebase grows.</p><ul><li>There is a slight chance of your application becoming slower by having too many logs.</li></ul><p>There is no one golden standard in the case of how much we need to log. It all depends on the application and who is writing the code. I suggest starting logging <code>ERROR</code> and <code>WARN</code> levels, and then <code>INFO</code> and <code>DEBUG</code> level logs as the need arises during development. Be mindful of what is being logged.</p><h2>Other uses of logging</h2><ul><li><p>Having good logs helps us to debug and resolve the issue better and faster.</p></li><li><p>Structured logs help us visualise logs in viewers like Kibana, Datadog, etc. These visualisations help us derive a few patterns in our application, which in turn can be used to make the application better.</p></li></ul><h2>Rules I follow while writing logs ü™µ</h2><p>So we&#x27;ve read about what logging is, the different levels of logs, and the advantages of having good logs. The following are the rules and guidelines that I follow on a day-to-day basis when writing logs. It might not be exhaustive, but it should give a very good idea of the different things to consider while writing logs.</p><h3>Not all exceptions are errors</h3><p>I used to have the habit of logging the exception messages¬†and categorising them as errors. Later down the line, I realised that not all exceptions are errors, and some might be¬†expected. These¬†can be logged¬†as either warnings¬†or informational messages.</p><h3>Log after an action is performed, not before</h3><p>Logging before an action is taken might give you some contextual information about what action would be taken, but we would never know whether the action was successful or not. Having a log message after the action is taken would inform us¬†that the action was performed¬†and¬†the result of the action, if available. There are scenarios where we¬†log before and after the action is taken. This is done to measure the amount of time it takes to complete the action.</p><h3>Either log or throw exceptions, but not both</h3><p>As mentioned in <a href="https://rules.sonarsource.com/java/RSPEC-2139">RSPEC-2139</a>, it is not a good idea to log and throw exceptions at the same time. This is done to avoid a large number of identical logs, which would lead to noise in the log files.</p><h3>Define a logging format for your project</h3><p>Having a predefined structure for log messages would make reading the logs easier. Additionally, this structure would help to visualise the logs in log viewers like Kibana, Datadog, etc...</p><p>Try not to merge log messages and variables¬†when writing the logs. A good log format that I follow is</p><div class="relative group"><pre class=""><code>LOG.level(&quot;{Message} {Variables}&quot;);
</code></pre><button class="absolute top-2 right-2 p-1.5 bg-gray-700 hover:bg-gray-600 dark:bg-gray-600 dark:hover:bg-gray-500 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10" title="Copy to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3 h-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div><p>Some examples:</p><div class="relative group"><pre class="language-java"><code>LOG.info(&quot;Fetched the employee data for a company. [companyId={}]&quot;, companyId);
LOG.error(&quot;Error occurred while fetching the employee data for the company. [companyId={}]&quot;, companyId, e);
</code></pre><button class="absolute top-2 right-2 p-1.5 bg-gray-700 hover:bg-gray-600 dark:bg-gray-600 dark:hover:bg-gray-500 text-white rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 z-10" title="Copy to clipboard"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-3 h-3" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div><h2>References</h2><ul><li><p>Coding Horror <a href="https://blog.codinghorror.com/the-problem-with-logging/">blog on logging</a></p></li><li><p>Code project <a href="https://www.codeproject.com/Articles/42354/The-Art-of-Logging">blog on The Art of Logging</a></p></li></ul></article></div></main><aside class="hidden md:block md:w-48 md:flex-shrink-0 mt-8 md:mt-0"><div class="md:sticky md:top-8"><nav class="flex flex-col lg:flex-col space-y-2 lg:space-x-0 lg:space-y-2 text-center lg:text-right overflow-x-auto lg:overflow-x-visible justify-center lg:justify-start"><a class="text-gray-400 hover:text-gray-200 block py-1 text-sm transition-colors whitespace-nowrap" href="/">about</a><a class="text-gray-400 hover:text-gray-200 block py-1 text-sm transition-colors whitespace-nowrap" href="/blog">writing</a><a class="text-gray-400 hover:text-gray-200 block py-1 text-sm transition-colors whitespace-nowrap" href="/snippets">snippets</a><a class="text-gray-400 hover:text-gray-200 block py-1 text-sm transition-colors whitespace-nowrap" href="/tools">tools</a><a href="https://www.linkedin.com/in/manikantainugurthi/" target="_blank" rel="noopener noreferrer" class="block py-1 text-sm text-gray-400 hover:text-gray-200 transition-colors whitespace-nowrap">follow ‚Üó</a><a href="https://github.com/me-manikanta" target="_blank" rel="noopener noreferrer" class="block py-1 text-sm text-gray-400 hover:text-gray-200 transition-colors whitespace-nowrap">code ‚Üó</a></nav></div></aside></div><aside class="md:hidden mt-8"><nav class="flex flex-col lg:flex-col space-y-2 lg:space-x-0 lg:space-y-2 text-center lg:text-right overflow-x-auto lg:overflow-x-visible justify-center lg:justify-start"><a class="text-gray-400 hover:text-gray-200 block py-1 text-sm transition-colors whitespace-nowrap" href="/">about</a><a class="text-gray-400 hover:text-gray-200 block py-1 text-sm transition-colors whitespace-nowrap" href="/blog">writing</a><a class="text-gray-400 hover:text-gray-200 block py-1 text-sm transition-colors whitespace-nowrap" href="/snippets">snippets</a><a class="text-gray-400 hover:text-gray-200 block py-1 text-sm transition-colors whitespace-nowrap" href="/tools">tools</a><a href="https://www.linkedin.com/in/manikantainugurthi/" target="_blank" rel="noopener noreferrer" class="block py-1 text-sm text-gray-400 hover:text-gray-200 transition-colors whitespace-nowrap">follow ‚Üó</a><a href="https://github.com/me-manikanta" target="_blank" rel="noopener noreferrer" class="block py-1 text-sm text-gray-400 hover:text-gray-200 transition-colors whitespace-nowrap">code ‚Üó</a></nav></aside></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontMatter":{"title":"Logging best practices that I follow","date":"April 10, 2022","tags":["debugging","best practices"],"category":"Development"},"slug":"logging-best-practices","content":"\nAt the beginning of my coding career, I mostly wrote logs¬†(print statements üòú) when debugging an issue and removed them (unsaid rule) after the bug was fixed. But when I became a backend developer, I realised the importance of logging. In this blog, I am listing down all the things that I've learned in the past few years and the rules I follow when writing log statements.\n\n## What exactly is logging?\n\nIn laymen's terms, we all know what logging is; it's printing messages, variables and exceptions to the console or a file. It is partially correct. However, what I feel is logging is a mechanism to record the state of the application and the actions it has taken at a given point in time.\n\nIf we think about it, both definitions are completely different. One suggests that we are indicating where we are in the codebase, and the second indicates the current state of request flow. This change in the thought process when developing an application helps us to write better logging statements and, in turn, helps us to improve the application.\n\n## Different levels of Logs\n\nThe level of logging may vary based on the team you're in, the application you're working on, and, most likely, the framework/language you're using. The most widely used logging levels are `DEBUG`, `INFO`, `WARN` and `ERROR`.\n\n### DEBUG üë®üèª‚Äçüíª\n\n![debugging.gif](https://cdn.hashnode.com/res/hashnode/image/upload/v1649343223530/meiZpkf88.gif)\n\nAs the name suggests, these logs contain information that is most interesting for developers when trying to debug a problem. They are fine-grained statements concerning the state of the application.\n\nIn our production system, we have a huge number of `DEBUG` logs, and we tend to disable this level mostly. We enable this only when the need arises.\n\n### INFO ‚ÑπÔ∏è\n\n![info-level.gif](https://cdn.hashnode.com/res/hashnode/image/upload/v1649343014674/dCycagJ2a.gif)\nLogs at this level are purely informational messages, as the name suggests and¬†they should not be used to indicate a fault or error state in the application. To make the best use of this log level, consider what general information would be useful for diagnosing an application error when the primary interface is unavailable.\n\n### WARN ‚ö†Ô∏è\n\n![darth-vader-this-is-your-last-warning.gif](https://cdn.hashnode.com/res/hashnode/image/upload/v1649342969562/Gn4KrBiLs.gif)\n\nWarning logs should be used when something happens that could potentially cause some oddities in the application. These logs give us some heads-up, indicating something that might need our attention.\n\n### ERROR üö®\n\n![error.gif](https://cdn.hashnode.com/res/hashnode/image/upload/v1649342866161/BKZSWVpCu.gif)\n\nLogs at this level contain failures in the application. Use error logs when something that could've gone wrong has gone wrong and action needs to be taken by someone to resolve the issue. In the event there is no action needed, we can use the `WARN` level instead.\n\n## How much should we log?\n\n### Have fewer logs üîá\n\nThere is no harm in actually having very few logs in our system, but this will make figuring out why something happened the way it happened a bit difficult.\n\n### Log everything üîä\n\nIf logging is this good, why can't we write a log statement after every line of our code?\n\nIs it too much?\n\nHow much logging is too much logging?\n\n![talk-spongebob.gif](https://cdn.hashnode.com/res/hashnode/image/upload/v1649343245360/yLswYQvicp.gif)\n\nThese types of questions were asked in a lot of forums, including StackOverflow, which led to [this blog][1] by [Coding Horror][2]\n\nA few takeaways, according to me, are as follows:\n\n-¬†The more logs you add, the larger the codebase grows.\n\n- There is a slight chance of your application becoming slower by having too many logs.\n\nThere is no one golden standard in the case of how much we need to log. It all depends on the application and who is writing the code. I suggest starting logging `ERROR` and `WARN` levels, and then `INFO` and `DEBUG` level logs as the need arises during development. Be mindful of what is being logged.\n\n## Other uses of logging\n\n- Having good logs helps us to debug and resolve the issue better and faster.\n\n- Structured logs help us visualise logs in viewers like Kibana, Datadog, etc. These visualisations help us derive a few patterns in our application, which in turn can be used to make the application better.\n\n## Rules I follow while writing logs ü™µ\n\nSo we've read about what logging is, the different levels of logs, and the advantages of having good logs. The following are the rules and guidelines that I follow on a day-to-day basis when writing logs. It might not be exhaustive, but it should give a very good idea of the different things to consider while writing logs.\n\n### Not all exceptions are errors\n\nI used to have the habit of logging the exception messages¬†and categorising them as errors. Later down the line, I realised that not all exceptions are errors, and some might be¬†expected. These¬†can be logged¬†as either warnings¬†or informational messages.\n\n### Log after an action is performed, not before\n\nLogging before an action is taken might give you some contextual information about what action would be taken, but we would never know whether the action was successful or not. Having a log message after the action is taken would inform us¬†that the action was performed¬†and¬†the result of the action, if available. There are scenarios where we¬†log before and after the action is taken. This is done to measure the amount of time it takes to complete the action.\n\n### Either log or throw exceptions, but not both\n\nAs mentioned in [RSPEC-2139](https://rules.sonarsource.com/java/RSPEC-2139), it is not a good idea to log and throw exceptions at the same time. This is done to avoid a large number of identical logs, which would lead to noise in the log files.\n\n### Define a logging format for your project\n\nHaving a predefined structure for log messages would make reading the logs easier. Additionally, this structure would help to visualise the logs in log viewers like Kibana, Datadog, etc...\n\nTry not to merge log messages and variables¬†when writing the logs. A good log format that I follow is\n\n```\nLOG.level(\"{Message} {Variables}\");\n```\n\nSome examples:\n\n```java\nLOG.info(\"Fetched the employee data for a company. [companyId={}]\", companyId);\nLOG.error(\"Error occurred while fetching the employee data for the company. [companyId={}]\", companyId, e);\n```\n\n## References\n\n- Coding Horror [blog on logging][1]\n\n- Code project [blog on The Art of Logging][3]\n\n[1]: https://blog.codinghorror.com/the-problem-with-logging/\n[2]: https://blog.codinghorror.com\n[3]: https://www.codeproject.com/Articles/42354/The-Art-of-Logging\n"},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"logging-best-practices"},"buildId":"Gyp_NaHqKR5ka9XMP-TPk","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>